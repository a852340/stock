"use strict";const r=require("electron");console.log("[Preload] Starting preload script");r.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[n,o]=e;return r.ipcRenderer.on(n,(t,...c)=>o(t,...c))},off(...e){const[n,...o]=e;return r.ipcRenderer.off(n,...o)},send(...e){const[n,...o]=e;return r.ipcRenderer.send(n,...o)},invoke(...e){const[n,...o]=e;return r.ipcRenderer.invoke(n,...o)}});r.contextBridge.exposeInMainWorld("electronStore",{get:e=>r.ipcRenderer.invoke("electron-store-get",e),set:(e,n)=>r.ipcRenderer.invoke("electron-store-set",e,n),getAll:()=>r.ipcRenderer.invoke("electron-store-get-all"),reset:()=>r.ipcRenderer.invoke("electron-store-reset")});r.contextBridge.exposeInMainWorld("cryptoWS",{subscribe:e=>(console.log("[Preload] Crypto subscribe request:",e),r.ipcRenderer.invoke("crypto-subscribe",e)),unsubscribe:e=>(console.log("[Preload] Crypto unsubscribe request:",e),r.ipcRenderer.invoke("crypto-unsubscribe",e)),disconnect:()=>(console.log("[Preload] Crypto disconnect request"),r.ipcRenderer.invoke("crypto-disconnect")),isConnected:()=>r.ipcRenderer.invoke("crypto-is-connected"),on:(e,n)=>(console.log("[Preload] Registering listener for channel:",e),r.ipcRenderer.on(e,(o,...t)=>n(...t))),off:(e,n)=>(console.log("[Preload] Removing listener for channel:",e),r.ipcRenderer.off(e,n))});console.log("[Preload] Preload script completed, APIs exposed:",{ipcRenderer:!!window.ipcRenderer,electronStore:!!window.electronStore,cryptoWS:!!window.cryptoWS});
