"use strict";const r=require("electron");console.log("[Preload] Starting preload script");r.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[o,n]=e;return r.ipcRenderer.on(o,(t,...c)=>n(t,...c))},off(...e){const[o,...n]=e;return r.ipcRenderer.off(o,...n)},send(...e){const[o,...n]=e;return r.ipcRenderer.send(o,...n)},invoke(...e){const[o,...n]=e;return r.ipcRenderer.invoke(o,...n)}});r.contextBridge.exposeInMainWorld("electronStore",{get:e=>r.ipcRenderer.invoke("electron-store-get",e),set:(e,o)=>r.ipcRenderer.invoke("electron-store-set",e,o),getAll:()=>r.ipcRenderer.invoke("electron-store-get-all"),reset:()=>r.ipcRenderer.invoke("electron-store-reset")});r.contextBridge.exposeInMainWorld("cryptoWS",{subscribe:e=>(console.log("[Preload] Crypto subscribe request:",e),r.ipcRenderer.invoke("crypto-subscribe",e)),unsubscribe:e=>(console.log("[Preload] Crypto unsubscribe request:",e),r.ipcRenderer.invoke("crypto-unsubscribe",e)),disconnect:()=>(console.log("[Preload] Crypto disconnect request"),r.ipcRenderer.invoke("crypto-disconnect")),isConnected:()=>(console.log("[Preload] Crypto is connected check"),r.ipcRenderer.invoke("crypto-is-connected")),on:(e,o)=>(console.log("[Preload] Registering listener for channel:",e),r.ipcRenderer.on(e,(n,...t)=>o(...t))),off:(e,o)=>(console.log("[Preload] Removing listener for channel:",e),r.ipcRenderer.off(e,o))});console.log("[Preload] Preload script completed, APIs exposed:",{ipcRenderer:!!window.ipcRenderer,electronStore:!!window.electronStore,cryptoWS:!!window.cryptoWS});
